{% extends "base.html" %}
{% block title %}sesso — inserimento{% endblock %}

{% block extra_head %}
<style>
/* neo-datasette v1.10 — bigger widgets, tighter layout */
.form-wrap { max-width: 980px; }
.h-title { margin-bottom: 6px; }
.meta { opacity: .75; margin-bottom: 14px; }
.grid {
  display: grid;
  grid-template-columns: 210px minmax(380px, 1fr);
  gap: 8px 12px;
  align-items: center;
}
.grid label { font-weight: 800; font-size: 22px; line-height: 1.1; }
.grid input[type="text"],
.grid input[type="number"],
.grid input[type="datetime-local"],
.grid input[type="url"],
.grid select,
.grid textarea {
  width: 100%;
  font-size: 22px;
  padding: 10px 12px;
  min-height: 52px;
  box-sizing: border-box;
}
.grid select { appearance: auto; }
.grid textarea { min-height: 140px; }
.grid input[type="checkbox"]{
  transform: scale(1.8);
  transform-origin: left center;
  margin: 0;
}
.actions { margin-top: 18px; display: flex; gap: 14px; align-items: center; }
.actions button { font-size: 22px; font-weight: 900; padding: 10px 18px; }
.small { font-size: 16px; opacity: .75; }
</style>
{% endblock %}

{% block content %}
<div class="form-wrap">
  <h1 class="h-title">sesso — inserimento</h1>
  <div class="meta">neo-datasette v{{ version }}</div>

  <form method="post" action="/sesso/insert">
    <input type="hidden" name="csrftoken" value="{{ csrftoken() }}">

    <div class="grid">
      {% for f in fields %}
        <label for="{{ f.name }}">{{ f.name }}</label>

        {% set w = f.ui_widget %}
        {% if w in ["checkbox", "bool", "boolean"] %}
          <input id="{{ f.name }}" name="{{ f.name }}" type="checkbox">
        {% elif w in ["datetime", "datetime_local", "date_time", "timestamp"] %}
          <input id="{{ f.name }}" name="{{ f.name }}" type="datetime-local">
        {% elif w in ["textarea"] %}
          <textarea id="{{ f.name }}" name="{{ f.name }}"></textarea>
        {% elif w in ["url", "link"] %}
          <input id="{{ f.name }}" name="{{ f.name }}" type="url" placeholder="https://">
        {% elif w in ["select", "fk", "lookup"] and fk_options.get(f.name) %}
          <select id="{{ f.name }}" name="{{ f.name }}">
            <option value=""></option>
            {% for opt in fk_options[f.name] %}
              <option value="{{ opt.id }}">{{ opt.label }}</option>
            {% endfor %}
          </select>
        {% else %}
          <input id="{{ f.name }}" name="{{ f.name }}" type="text">
        {% endif %}
      {% endfor %}
    </div>

    <div class="actions">
      <button type="submit">Conferma</button>
      <span class="small">Dopo l'invio vieni reindirizzato alla tabella <b>sesso</b>.</span>
    </div>
  </form>
</div>
{% endblock %}
